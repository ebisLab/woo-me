{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/Eunice/WebDev/Fellowship/woo-less/components/cart/AddToCartButton.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport Link from 'next/link';\nimport { useState, useContext } from 'react';\nimport { AppContext } from '../context/AppContext';\nimport { addFirstProduct, updateCart } from '../../function';\n\nvar AddToCartButton = function AddToCartButton(props) {\n  _s();\n\n  var product = props.product;\n\n  var _useContext = useContext(AppContext),\n      cart = _useContext[0],\n      setCart = _useContext[1];\n\n  var handleAddToCartClick = function handleAddToCartClick() {\n    if (true) {\n      var existingCart = localStorage.getItem('woo-next-cart'); //if cart has item(s) already, then update the exiting\n\n      if (existingCart) {\n        //pull stuff out of existing cart, and convert to object (its in string format right now)\n        existingCart = JSON.parse(existingCart);\n        var qtyToBeApplied = 1;\n        var updatedCart = updateCart(existingCart, product, qtyToBeApplied);\n        setCart(updatedCart);\n      } else {\n        //if no item in the cart, create an empty array and push the item\n        var newCart = addFirstProduct(product);\n        setCart(newCart);\n      }\n    }\n\n    console.log(\"hello there\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleAddToCartClick,\n      className: \"btn btn-secondary\",\n      children: \"Add to cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, _this)\n  }, void 0, false);\n};\n\n_s(AddToCartButton, \"yW3F9rTSSpXoz1qpM/EYKrSPIEE=\");\n\n_c = AddToCartButton;\nexport default AddToCartButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddToCartButton\");","map":{"version":3,"sources":["/Users/Eunice/WebDev/Fellowship/woo-less/components/cart/AddToCartButton.js"],"names":["Link","useState","useContext","AppContext","addFirstProduct","updateCart","AddToCartButton","props","product","cart","setCart","handleAddToCartClick","existingCart","localStorage","getItem","JSON","parse","qtyToBeApplied","updatedCart","newCart","console","log"],"mappings":";;;;;;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,SAAQC,QAAR,EAAkBC,UAAlB,QAAmC,OAAnC;AACA,SAAQC,UAAR,QAA0B,uBAA1B;AACA,SAASC,eAAT,EAA0BC,UAA1B,QAA4C,gBAA5C;;AAEA,IAAMC,eAAe,GAAE,SAAjBA,eAAiB,CAACC,KAAD,EAAS;AAAA;;AAAA,MACrBC,OADqB,GACZD,KADY,CACrBC,OADqB;;AAAA,oBAENN,UAAU,CAACC,UAAD,CAFJ;AAAA,MAErBM,IAFqB;AAAA,MAEfC,OAFe;;AAI5B,MAAMC,oBAAoB,GAAC,SAArBA,oBAAqB,GAAI;AAC3B,cAAmB;AACf,UAAIC,YAAY,GAAGC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAnB,CADe,CAGf;;AACA,UAAGF,YAAH,EAAgB;AACZ;AACAA,QAAAA,YAAY,GAAGG,IAAI,CAACC,KAAL,CAAWJ,YAAX,CAAf;AACA,YAAMK,cAAc,GAAC,CAArB;AAEA,YAAMC,WAAW,GAAGb,UAAU,CAACO,YAAD,EAAeJ,OAAf,EAAwBS,cAAxB,CAA9B;AACAP,QAAAA,OAAO,CAACQ,WAAD,CAAP;AACH,OAPD,MAOK;AAED;AACA,YAAMC,OAAO,GAAGf,eAAe,CAACI,OAAD,CAA/B;AACAE,QAAAA,OAAO,CAACS,OAAD,CAAP;AACH;AACJ;;AACDC,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACH,GApBD;;AAqBA,sBACI;AAAA,2BACA;AAAQ,MAAA,OAAO,EAAEV,oBAAjB;AAAuC,MAAA,SAAS,EAAC,mBAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA,mBADJ;AAKH,CA9BD;;GAAML,e;;KAAAA,e;AAgCN,eAAeA,eAAf","sourcesContent":["import Link from 'next/link';\nimport {useState, useContext} from 'react'\nimport {AppContext } from '../context/AppContext'\nimport { addFirstProduct, updateCart } from '../../function';\n\nconst AddToCartButton =(props)=>{\n    const {product}=props\n    const [cart, setCart]=useContext(AppContext);\n\n    const handleAddToCartClick=()=>{\n        if(process.browser){\n            let existingCart = localStorage.getItem('woo-next-cart');\n\n            //if cart has item(s) already, then update the exiting\n            if(existingCart){\n                //pull stuff out of existing cart, and convert to object (its in string format right now)\n                existingCart = JSON.parse(existingCart)\n                const qtyToBeApplied=1;\n\n                const updatedCart = updateCart(existingCart, product, qtyToBeApplied)\n                setCart(updatedCart)\n            }else{\n\n                //if no item in the cart, create an empty array and push the item\n                const newCart = addFirstProduct(product);\n                setCart(newCart)\n            }\n        }\n        console.log(\"hello there\")\n    }\n    return(\n        <>\n        <button onClick={handleAddToCartClick} className=\"btn btn-secondary\">Add to cart</button>\n        </>\n    )\n}\n\nexport default AddToCartButton"]},"metadata":{},"sourceType":"module"}