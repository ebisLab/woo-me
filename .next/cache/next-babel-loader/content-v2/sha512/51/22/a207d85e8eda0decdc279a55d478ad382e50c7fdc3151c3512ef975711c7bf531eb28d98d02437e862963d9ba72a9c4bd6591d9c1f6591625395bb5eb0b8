{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/Eunice/WebDev/Fellowship/woo-less/pages/product.js\",\n    _this = this;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\" query Product( $id: Int ! ) {\\n\\t\\t\\tproductBy( productId: $id ) {\\n\\t\\t\\t\\t\\t\\t\\tid\\n\\t\\t\\t\\t\\t\\t\\tproductId\\n\\t\\t\\t\\t\\t\\t\\taverageRating\\n\\t\\t\\t\\t\\t\\t\\tslug\\n\\t\\t\\t\\t\\t\\t\\tdescription\\n\\t\\t\\t\\t\\t\\t\\timage {\\n\\t\\t\\t\\t\\t\\t\\t\\turi\\n\\t\\t\\t\\t\\t\\t\\t\\ttitle\\n\\t\\t\\t\\t\\t\\t\\t\\tsrcSet\\n\\t\\t\\t\\t\\t\\t\\t\\tsourceUrl\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\tname\\n\\t\\t\\t\\t\\t\\t\\tprice\\n\\t\\t\\t\\t\\n\\t\\t\\t} \\n\\t }\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport Layout from \"../components/Layout\";\nimport { withRouter } from 'next/router';\nimport client from \"../components/ApolloClient\";\nimport gql from 'graphql-tag';\nvar Product = withRouter(_c = function _c(props) {\n  var product = props.product;\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: product ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"woo-next-single\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"woo-next-single__product card bg-light mb-3 p-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header\",\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 15,\n          columnNumber: 7\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"card-title\",\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 17,\n            columnNumber: 8\n          }, _this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: product.image.sourceUrl,\n            alt: \"Product Image\",\n            width: \"200\",\n            srcSet: product.image.srcSet\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 18,\n            columnNumber: 8\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"card-text\",\n            children: product.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 19,\n            columnNumber: 8\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 16,\n          columnNumber: 7\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 6\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 5\n    }, _this) : ''\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 3\n  }, _this);\n});\n_c2 = Product;\n\nProduct.getInitialProps = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(context) {\n    var slug, id, PRODUCT_QUERY, res;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.warn(context);\n            slug = context.query.slug;\n            id = slug ? parseInt(slug.split('-').pop()) : context.query.id;\n            PRODUCT_QUERY = gql(_templateObject());\n            _context.next = 6;\n            return client.query({\n              query: PRODUCT_QUERY,\n              variables: {\n                id: id\n              }\n            });\n\n          case 6:\n            res = _context.sent;\n            return _context.abrupt(\"return\", {\n              product: res.data.productBy\n            });\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default Product;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Product$withRouter\");\n$RefreshReg$(_c2, \"Product\");","map":{"version":3,"sources":["/Users/Eunice/WebDev/Fellowship/woo-less/pages/product.js"],"names":["Layout","withRouter","client","gql","Product","props","product","name","image","sourceUrl","srcSet","description","getInitialProps","context","console","warn","slug","query","id","parseInt","split","pop","PRODUCT_QUERY","variables","res","data","productBy"],"mappings":";;;;;;;;;;;;;;;;;;AAAA,OAAOA,MAAP,MAAmB,sBAAnB;AACA,SAASC,UAAT,QAA2B,aAA3B;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AAEA,IAAMC,OAAO,GAAGH,UAAU,MAAE,YAAAI,KAAK,EAAI;AAAA,MAE5BC,OAF4B,GAEhBD,KAFgB,CAE5BC,OAF4B;AAIpC,sBACC,QAAC,MAAD;AAAA,cACGA,OAAO,gBACR;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA,6BACC;AAAK,QAAA,SAAS,EAAC,iDAAf;AAAA,gCACC;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA,oBAA+BA,OAAO,CAACC;AAAvC;AAAA;AAAA;AAAA;AAAA,iBADD,eAEC;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA,kCACC;AAAI,YAAA,SAAS,EAAC,YAAd;AAAA,sBAA6BD,OAAO,CAACC;AAArC;AAAA;AAAA;AAAA;AAAA,mBADD,eAEC;AAAK,YAAA,GAAG,EAAGD,OAAO,CAACE,KAAR,CAAcC,SAAzB;AAAqC,YAAA,GAAG,EAAC,eAAzC;AAAyD,YAAA,KAAK,EAAC,KAA/D;AAAqE,YAAA,MAAM,EAAGH,OAAO,CAACE,KAAR,CAAcE;AAA5F;AAAA;AAAA;AAAA;AAAA,mBAFD,eAGC;AAAG,YAAA,SAAS,EAAC,WAAb;AAAA,sBAA2BJ,OAAO,CAACK;AAAnC;AAAA;AAAA;AAAA;AAAA,mBAHD;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,aADQ,GAWL;AAZL;AAAA;AAAA;AAAA;AAAA,WADD;AAgBA,CApByB,CAA1B;MAAMP,O;;AAsBNA,OAAO,CAACQ,eAAR;AAAA,sEAA0B,iBAAgBC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAEzBC,YAAAA,OAAO,CAACC,IAAR,CAAcF,OAAd;AAEeG,YAAAA,IAJU,GAICH,OAJD,CAInBI,KAJmB,CAIVD,IAJU;AAKnBE,YAAAA,EALmB,GAKdF,IAAI,GAAGG,QAAQ,CAAEH,IAAI,CAACI,KAAL,CAAY,GAAZ,EAAkBC,GAAlB,EAAF,CAAX,GAAyCR,OAAO,CAACI,KAAR,CAAcC,EAL7C;AAOnBI,YAAAA,aAPmB,GAOHnB,GAPG;AAAA;AAAA,mBA0BPD,MAAM,CAACe,KAAP,CAAc;AAC/BA,cAAAA,KAAK,EAAEK,aADwB;AAE/BC,cAAAA,SAAS,EAAE;AAAEL,gBAAAA,EAAE,EAAFA;AAAF;AAFoB,aAAd,CA1BO;;AAAA;AA0BnBM,YAAAA,GA1BmB;AAAA,6CA+BlB;AACNlB,cAAAA,OAAO,EAAEkB,GAAG,CAACC,IAAJ,CAASC;AADZ,aA/BkB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA1B;;AAAA;AAAA;AAAA;AAAA;;AAqCA,eAAetB,OAAf","sourcesContent":["import Layout from \"../components/Layout\";\nimport { withRouter } from 'next/router';\nimport client from \"../components/ApolloClient\";\nimport gql from 'graphql-tag';\n\nconst Product = withRouter( props => {\n\n\tconst { product } = props;\n\n\treturn (\n\t\t<Layout>\n\t\t\t{ product ? (\n\t\t\t\t<div className=\"woo-next-single\">\n\t\t\t\t\t<div className=\"woo-next-single__product card bg-light mb-3 p-5\">\n\t\t\t\t\t\t<div className=\"card-header\">{ product.name }</div>\n\t\t\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t\t\t<h4 className=\"card-title\">{ product.name }</h4>\n\t\t\t\t\t\t\t<img src={ product.image.sourceUrl } alt=\"Product Image\" width=\"200\" srcSet={ product.image.srcSet }/>\n\t\t\t\t\t\t\t<p className=\"card-text\">{ product.description }</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : '' }\n\t\t</Layout>\n\t)\n});\n\nProduct.getInitialProps = async function( context ) {\n\n\tconsole.warn( context );\n\n\tlet { query: { slug } } = context;\n\tconst id = slug ? parseInt( slug.split( '-' ).pop() ) : context.query.id;\n\n\tconst PRODUCT_QUERY = gql` query Product( $id: Int ! ) {\n\t\t\tproductBy( productId: $id ) {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tproductId\n\t\t\t\t\t\t\taverageRating\n\t\t\t\t\t\t\tslug\n\t\t\t\t\t\t\tdescription\n\t\t\t\t\t\t\timage {\n\t\t\t\t\t\t\t\turi\n\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t\tsrcSet\n\t\t\t\t\t\t\t\tsourceUrl\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\tprice\n\t\t\t\t\n\t\t\t} \n\t }`;\n\n\tconst res = await client.query(({\n\t\tquery: PRODUCT_QUERY,\n\t\tvariables: { id }\n\t}));\n\n\treturn {\n\t\tproduct: res.data.productBy\n\t}\n\n};\n\nexport default Product;"]},"metadata":{},"sourceType":"module"}